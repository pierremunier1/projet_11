(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1100:function(e,t,r){"use strict";var n=r(537);t.a={omit:n.a}},1198:function(e,t,r){"use strict";var n=r(687),a=r(1),o=r.n(a),l=r(2),i=r.n(l),c=r(6),s=r.n(c),u=r(11),p=r(4),d=r(3187),f=r(1660),m=r(447),b=r.n(m),y=r(3280),g=r(1382),h=r(1203),v=r(1100),O=r(671),_={iconType:s.a.string.isRequired,className:s.a.string,rounded:s.a.bool};function w(e){var t=e.iconType,r=e.className,n=e.rounded,a=b()("icon-".concat(t),{"icon--rounded":n},r);return i.a.createElement("i",{"aria-hidden":"true",className:a})}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}w.propTypes=_,w.defaultProps={className:"",rounded:!1};var E={type:s.a.string.isRequired},U=function(e){var t=e.type,r=S(e,["type"]);return i.a.createElement("button",j({className:"uploadedFile__button"},r,{type:"button"}),i.a.createElement(w,{className:"uploadedFile__buttonIcon",iconType:t}))};U.propTypes=E;var F=U,k={filename:s.a.string.isRequired,error:s.a.string,loaded:s.a.number,totalSize:s.a.number,url:s.a.string,onAbort:s.a.func,onRetry:s.a.func},x=function(e){var t=e.filename,r=e.url,n=e.totalSize,a=e.loaded,o=e.error,l=e.onAbort,c=e.onRetry,s=100/(n/a),p=a>0&&n,d=n>0,f=!!o&&c,m=!!l,b=f||m,y=["uploadedFile"];return o&&y.push("uploadedFile--error"),b||y.push("uploadedFile--noAction"),i.a.createElement("div",{className:y.join(" ")},i.a.createElement("div",{className:"uploadedFile__actions"},f&&i.a.createElement(F,{"aria-label":Object(u.translate)("global.word.retry"),type:"refresh",onClick:c}),m&&i.a.createElement(F,{"aria-label":Object(u.translate)("global.word.cancel"),type:"close",onClick:l})),i.a.createElement("div",{className:"uploadedFile__filename"},r?i.a.createElement("a",{href:r},t):t),d&&i.a.createElement("div",{className:"uploadedFile__size"},Object(O.a)(a)," ","of"," ",Object(O.a)(n)),p&&i.a.createElement("div",{className:"uploadedFile__progress"},i.a.createElement("div",{className:"uploadedFile__progressBar",style:{width:"".concat(s,"%")}})),i.a.createElement("div",{className:"uploadedFile__error"},o))};x.propTypes=k,x.defaultProps={error:null,loaded:null,totalSize:null,url:null,onAbort:null,onRetry:null};var N=x,P=r(1403);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=C(t).call(this,e),r=!a||"object"!==A(a)&&"function"!=typeof a?z(n):a,B(z(r),"handleDragOver",function(){r.setState(function(){return{isDraggedOver:!0}})}),B(z(r),"handleDragLeave",function(){r.setState(function(){return{isDraggedOver:!1}})}),B(z(r),"handleDrop",function(e,t){r.setState({isDraggedOver:!1}),e&&e.length>=1&&r.props.onAcceptedFiles(e),t&&t.length>=1&&r.showRejectedFileMessage(t)}),B(z(r),"handleChooseFile",function(){r.dropzone.open()}),r.state={isDraggedOver:!1,rejectedFileMessages:""},r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,l["Component"]),r=t,(n=[{key:"renderError",value:function(e){return e?i.a.createElement(u.Translate,{component:"div",className:"uploader__error",content:"upload.error.generic_error"}):null}},{key:"showRejectedFileMessage",value:function(e){var t=this,r=this.props,n=r.accept,a=r.maxSize,o=Object(P.a)(e[0],{accept:n,maxSize:a}),l=[];o.badType&&l.push("".concat(Object(u.translate)("upload.error.wrong_file_type")," (").concat(Object(u.translate)("upload.message.file_type_limitation",{filetype:n}),")")),o.tooBig&&l.push("".concat(Object(u.translate)("upload.error.file_too_big")," (").concat(Object(u.translate)("upload.message.file_size_limitation",{size:Object(O.a)(a)}),")")),this.setState(function(){return{rejectedFileMessages:l}},function(){t.props.onRejectedFiles(e)})}},{key:"dismissRejectedFileMessage",value:function(){this.setState(function(){return{rejectedFileMessages:""}})}},{key:"renderLimitations",value:function(){var e=this.props,t=e.accept,r=e.maxSize,n=[];return t&&n.push(i.a.createElement(u.Translate,{key:"accept",className:"uploader__limitationsItem",component:"li",content:"upload.message.file_type_limitation",with:{filetype:t}})),r&&r!==1/0&&n.push(i.a.createElement(u.Translate,{key:"maxSize",className:"uploader__limitationsItem",component:"li",content:"upload.message.file_size_limitation",with:{size:Object(O.a)(r)}})),0===n.length?null:i.a.createElement("div",{className:"uploader__limitationsWrapper"},i.a.createElement("ul",{className:"uploader__limitations"},n))}},{key:"renderErrorMessagesDialog",value:function(){var e=this;return i.a.createElement(h.a,{isOpen:!!this.state.rejectedFileMessages,onAccept:function(){e.dismissRejectedFileMessage()}},i.a.createElement("div",null,i.a.createElement(u.Translate,{component:"p",content:"upload.error.not_accepted_file"}),i.a.createElement("ul",null,this.state.rejectedFileMessages.map(function(e,t){return i.a.createElement("li",{key:t},e)}))))}},{key:"render",value:function(){var e=this,t=this.props,r=t.files,n=t.progress,a=t.error,o=t.onRetry,l=t.onCancel,c=t.disabled,s=R(t,["files","progress","error","onRetry","onCancel","disabled"]),p=r.length>0,d=n.loaded>0&&!a,m=d||c,h=!!this.state.rejectedFileMessages,O=b()("uploader",{"uploader--hasFiles":p},{"uploader--isUploading":d});return i.a.createElement(f.a,D({ref:function(t){e.dropzone=t}},v.a.omit(s,["onAcceptedFiles","onRejectedFiles"]),{className:O,activeClassName:"uploader--active",acceptClassName:"uploader--accept",rejectClassName:"uploader--reject",onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,disableClick:!0,disabled:m,multiple:this.props.multiple}),h&&this.renderErrorMessagesDialog(),i.a.createElement("div",{className:"uploader__buttonWrapper"},i.a.createElement("button",{className:"uploader__button",disabled:m,onClick:this.handleChooseFile},i.a.createElement(y.a,{name:g.a.CLOUD_UPLOAD,size:"32px"}),i.a.createElement("br",null),i.a.createElement(u.Translate,{content:"upload.action.choose_file"}))),this.renderLimitations(),p&&i.a.createElement("div",{className:"uploader__files"},i.a.createElement(N,{key:r[0].name,filename:r[0].name,error:a?Object(u.translate)("upload.error.generic_error"):null,loaded:n.loaded,totalSize:n.total,onRetry:o,onAbort:l})))}}])&&T(r.prototype,n),a&&T(r,a),t}();B(M,"propTypes",{accept:s.a.string,disabled:s.a.bool,error:s.a.instanceOf(Error),files:s.a.array,maxSize:s.a.number,multiple:s.a.bool,progress:s.a.shape({loaded:s.a.number,total:s.a.number}),onAcceptedFiles:s.a.func,onCancel:s.a.func,onRejectedFiles:s.a.func,onRetry:s.a.func}),B(M,"defaultProps",{accept:null,error:null,disabled:!1,files:[],maxSize:1/0,multiple:!1,progress:{},onAcceptedFiles:function(){},onRejectedFiles:function(){},onRetry:null,onCancel:null});var L=M;function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=Y(t).call(this,e),r=!a||"object"!==q(a)&&"function"!=typeof a?H(n):a,V(H(r),"handleToggleUploaderDisplay",function(){var e=r.props.url;r.setState(function(){return{progress:{},error:null,file:null}}),e&&r.toggleUploaderDisplay()}),V(H(r),"handleUploadProgress",function(e){var t=e.loaded,n=e.percent,a=e.total;if(n){var o={loaded:t,percent:n,total:a};r.setState(function(){return{progress:o,error:null}})}}),V(H(r),"handleUploadAbort",function(){r.req&&r.req.abort(),r.setState(function(){return{progress:{},error:null,file:null}});var e=r.props.url;r.toggleUploaderDisplay(e)}),V(H(r),"handleRetry",function(){var e=r.state.file;r.uploadFile(e)}),V(H(r),"handleAcceptedFiles",function(e){var t=W(e,1)[0];t&&(r.uploadFile(t),r.setState(function(){return{isDownloading:!0}}))}),r.state={progress:{},error:null,file:null,isShowingUploader:!e.url,isDownloading:!1},r.req=null,r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,l["Component"]),r=t,(a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.url;e.url!==t&&this.toggleUploaderDisplay(e.url)}},{key:"toggleUploaderDisplay",value:function(){this.setState(function(e){return{isShowingUploader:!e.isShowingUploader}})}},{key:"uploadFile",value:function(e){var t,r,a;return o.a.async(function(l){for(;;)switch(l.prev=l.next){case 0:return this.setState(function(){return{progress:{},error:null,file:e}}),t=this.props,r=t.endPoint,a=t.onUploaded,this.req=n.a.upload(r,e,{onProgress:this.handleUploadProgress}),l.prev=3,l.next=6,o.a.awrap(this.req);case 6:a(),this.setState(function(){return{isDownloading:!1}}),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(3),this.setState(function(){return{error:l.t0}});case 13:case"end":return l.stop()}},null,this,[[3,10]])}},{key:"renderActions",value:function(){var e=this.state.isDownloading,t=!(!this.props.url&&!e);return i.a.createElement("div",{className:"uploaderForm__actions"},t&&i.a.createElement(d.a,{disabled:e,ocStyle:"secondary",onClick:this.handleToggleUploaderDisplay},i.a.createElement(u.Translate,{content:"global.word.back"})))}},{key:"renderUpload",value:function(){var e=this.state,t=e.progress,r=e.error,n=e.file,a=this.props,o=a.accept,l=a.maxSize,c=a.onRejectedFiles,s=n?[n]:[];return i.a.createElement("div",null,i.a.createElement(L,{accept:o,maxSize:l,onAcceptedFiles:this.handleAcceptedFiles,onRejectedFiles:c,onRetry:this.handleRetry,onCancel:this.handleUploadAbort,files:s,progress:t,error:r}),this.renderActions())}},{key:"renderUploadedUrl",value:function(){var e=this.props.url,t=n.a.getFilenameFromUrl(e),r=p.a.window.decodeURIComponent(t);return i.a.createElement("div",null,i.a.createElement("div",{className:"uploaderForm__link"},i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},r)),i.a.createElement("div",{className:"uploaderForm__actions"},i.a.createElement(d.a,{ocStyle:"secondary",onClick:this.handleToggleUploaderDisplay},i.a.createElement(u.Translate,{content:"global.word.change"}))))}},{key:"render",value:function(){var e=this.props.className,t=this.state.isShowingUploader;return i.a.createElement("div",{className:"uploaderForm ".concat(e)},t?this.renderUpload():this.renderUploadedUrl())}}])&&G(r.prototype,a),c&&G(r,c),t}();function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}V(Z,"propTypes",{endPoint:s.a.string.isRequired,accept:s.a.string,className:s.a.string,maxSize:s.a.number,url:s.a.string,onRejectedFiles:s.a.func,onUploaded:s.a.func}),V(Z,"defaultProps",{accept:null,className:"",maxSize:1/0,url:null,onRejectedFiles:function(){},onUploaded:function(){}});var ne=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=$(t).call(this,e),r=!a||"object"!==K(a)&&"function"!=typeof a?ee(n):a,re(ee(r),"handleToggleUploaderDisplay",function(){r.setState(function(){return{file:null}}),r.props.fileUrl&&r.toggleUploaderDisplay()}),re(ee(r),"handleUploadAbort",function(){var e=r.state.abortUpload;e&&e(),r.setState(function(){return{abortUpload:null,file:null}}),r.toggleUploaderDisplay(!0)}),re(ee(r),"handleRetry",function(){var e=r.state.file;r.uploadFile(e)}),re(ee(r),"handleAcceptedFiles",function(e){var t=Q(e,1)[0];t&&(r.setState(function(){return{file:t}}),r.uploadFile(t))}),r.state={abortUpload:null,file:null,isShowingUploader:!e.fileUrl},r.req=null,r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,l["Component"]),r=t,(a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.fileUrl;e.fileUrl!==t&&this.toggleUploaderDisplay(!e.fileUrl)}},{key:"toggleUploaderDisplay",value:function(e){this.setState(function(t){return{isShowingUploader:void 0===e?!t.isShowingUploader:!!e}})}},{key:"uploadFile",value:function(e){var t,r,n;return o.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return t=this.props.upload,a.next=3,o.a.awrap(t(e));case 3:r=a.sent,n=r.request,this.setState(function(){return{abortUpload:n.abort.bind(n)}});case 6:case"end":return a.stop()}},null,this)}},{key:"isDownloading",value:function(){var e=this.props.progress,t=void 0===e?{}:e;return t.loaded<t.total}},{key:"renderActions",value:function(){var e=this.props.fileUrl,t=this.isDownloading(),r=!(!e&&!t);return i.a.createElement("div",{className:"uploaderForm__actions"},r&&i.a.createElement(d.a,{disabled:t,ocStyle:"secondary",onClick:this.handleToggleUploaderDisplay},i.a.createElement(u.Translate,{content:"global.word.back"})))}},{key:"renderUpload",value:function(){var e=this.state.file,t=this.props,r=t.accept,n=t.error,a=t.maxSize,o=t.progress,l=e?[e]:[];return i.a.createElement("div",null,i.a.createElement(L,{accept:r,maxSize:a,onAcceptedFiles:this.handleAcceptedFiles,onRetry:this.handleRetry,onCancel:this.handleUploadAbort,files:l,progress:o,error:n}),this.renderActions())}},{key:"renderUploadedUrl",value:function(){var e=this.props.fileUrl,t=n.a.getFilenameFromUrl(e),r=p.a.window.decodeURIComponent(t);return i.a.createElement("div",null,i.a.createElement("div",{className:"uploaderForm__link"},i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},r)),i.a.createElement("div",{className:"uploaderForm__actions"},i.a.createElement(d.a,{ocStyle:"secondary",onClick:this.handleToggleUploaderDisplay},i.a.createElement(u.Translate,{content:"global.word.change"}))))}},{key:"render",value:function(){var e=this.props.className,t=this.state.isShowingUploader;return i.a.createElement("div",{className:"uploaderForm ".concat(e)},t?this.renderUpload():this.renderUploadedUrl())}}])&&X(r.prototype,a),c&&X(r,c),t}();re(ne,"propTypes",{upload:s.a.func.isRequired,accept:s.a.string,className:s.a.string,error:s.a.instanceOf(Error),fileUrl:s.a.string,maxSize:s.a.number,progress:s.a.shape({loaded:s.a.number,total:s.a.number})}),re(ne,"defaultProps",{accept:null,className:"",error:null,fileUrl:null,maxSize:1/0,progress:{loaded:0,total:0}});var ae=r(3164),oe=r(559),le=r(3178),ie=r(1401),ce=r(1405),se=r.n(ce),ue=r(527),pe=r.n(ue),de=r(3213),fe=r(3167),me=r(511);function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ye={ariaLabel:s.a.string.isRequired,accept:s.a.string,defautImageUrl:s.a.string,maxSize:s.a.number,maxDimensions:s.a.shape({width:s.a.number,height:s.a.number}),inputProps:s.a.object,onAccept:s.a.func,onCancel:s.a.func,onReject:s.a.func},ge=Object(ae.a)(function(e){var t,r,n,a=e.breakpoints,o=e.palette,l=e.spacing;return{uploadLink:{color:[o.text.primary,"!important"],textDecoration:"underline",cursor:"pointer"},downloadLink:(t={color:[o.text.primary,"!important"],textDecoration:"underline",display:"inline-block",maxWidth:"85%",overflow:"hidden",textOverflow:"ellipsis",marginRight:l(2)},r=a.up("sm"),n={marginRight:l(4)},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t),imageIcon:{verticalAlign:"bottom",marginRight:l(2)},cancelButton:{float:"right",color:o.text.primary},preview:{marginTop:l(2),width:120,height:120,lineHeight:"120px",borderRadius:4,textAlign:"center",borderWidth:1,borderColor:o.line,backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:function(e){var t=e.imageUrl;return e.isPreviewActive?"url(".concat(t,")"):"none"},borderStyle:function(e){return e.isPreviewActive?"solid":"dashed"},backgroundColor:function(e){return e.isPreviewActive?o.background.primary:o.background.alternative}}}},{classNamePrefix:"ImageDropzone"});function he(e){var t=e.accept,r=e.defautImageUrl,a=e.maxSize,o=e.maxDimensions,c=e.inputProps,s=e.onAccept,p=e.onCancel,d=e.onReject,f=e.ariaLabel,m=Object(l.useRef)(null),b=be(Object(l.useState)(r),2),y=b[0],g=b[1],h=be(Object(l.useState)(n.a.getFilenameFromUrl(y)),2),v=h[0],O=h[1],_=be(Object(l.useState)(),2),w=_[0],j=_[1],S=Boolean(o.width)&&Boolean(o.height),E="".concat(a).concat(Object(u.translate)("admin.upload.units.kb")),U=S?"".concat(o.width," x ").concat(o.height," px"):"",F={BAD_TYPE:Object(u.translate)("admin.upload.errors.bad_file_type",{types:t.split(",").join(" ".concat(Object(u.translate)("global.word.or_separator")," "))}),TOO_BIG:Object(u.translate)("admin.upload.errors.too_big",{size:E}),DIMENSIONS_TOO_BIG:Object(u.translate)("admin.upload.errors.dimensions_too_big",{dimensions:U})},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.BAD_TYPE,r=be(e,1)[0];g(r.preview),O(r.name),j(t),d(r)},x=function(e){g(e.preview),O(e.name),s(e)},N=Boolean(w),P=Boolean(y)&&!N,A=ge({isPreviewActive:P,imageUrl:y}),D=[];return S&&D.push(U),a&&D.push(E),i.a.createElement("div",null,!y&&i.a.createElement(de.a,{accept:t,ref:m,onAcceptFiles:function(e){var r=be(e,1)[0],l=n.a.validate(r,{accept:t,maxSize:1e3*a}),i=l.tooBig;if(l.badType)k(e,F.BAD_TYPE);else if(i)k(e,F.TOO_BIG);else if(S){var c=new Image;c.onload=function(){var t=c.naturalWidth,n=c.naturalHeight;t<=o.width&&n<=o.height?x(r):k(e,F.DIMENSIONS_TOO_BIG)},c.src=r.preview}else x(r)},onRejectFiles:k,inputProps:c,label:i.a.createElement(i.a.Fragment,null,Object(u.translate)("admin.upload.drag_and_drop_or")," ",i.a.createElement(oe.a,{onClick:function(e){e.preventDefault(),m.current.open()},href:"#",role:"button","aria-label":f,className:A.uploadLink},Object(u.translate)("admin.upload.click_here")),"."),caption:i.a.createElement(i.a.Fragment,null,Object(u.translate)("admin.upload.accepted_files",{files:t}),i.a.createElement("br",null),Object(u.translate)("admin.upload.max_size",{size:D.join(" / ")}))}),v&&i.a.createElement(i.a.Fragment,null,!N&&i.a.createElement(se.a,{color:"primary",className:A.imageIcon}),i.a.createElement(le.a,{edge:"end",size:"small",className:A.cancelButton,onClick:function(){g(null),O(null),j(null),p()}},i.a.createElement(pe.a,{color:N?"error":"inherit"})),i.a.createElement(oe.a,{className:A.downloadLink,href:y,target:"_blank"},v),N&&i.a.createElement(ie.a,{error:!0},w)),i.a.createElement("div",{className:A.preview},!P&&i.a.createElement(fe.a,{variant:me.a.VARIANT.SUBTITLE2,component:"span",display:"inline"},Object(u.translate)("admin.upload.preview"))))}he.propTypes=ye,he.defaultProps={accept:".jpeg, .jpg, .png",defautImageUrl:null,maxSize:0,maxDimensions:{},inputProps:{},onAccept:function(){},onCancel:function(){},onReject:function(){}};var ve=he;r.d(t,"b",function(){return Z}),r.d(t,"c",function(){return ne}),r.d(t,"a",function(){return ve});n.a},544:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){var e=1,t=new WeakMap,r=function(n,a){return"number"==typeof n||"string"==typeof n?a?"idx-"+a:"val-"+n:t.has(n)?"uid"+t.get(n):(t.set(n,e++),r(n))};return r}},692:function(e,t,r){"use strict";var n=r(2),a=r(544),o=function(e){return void 0===e&&(e=""),{value:1,prefix:e,uid:Object(a.a)()}},l=o(),i=n.createContext(o());n.createContext("");r.d(t,"a",function(){return s}),r.d(t,"b",function(){return u});var c=function(){return n.useState(function(e){var t,r=e||l,n=((t=r)?t.prefix:"")+function(e){return e.value++}(r);return{uid:n,gen:function(e){return n+r.uid(e)}}}(n.useContext(i)))},s=function(){return c()[0].uid},u=function(){return c()[0].gen}},734:function(e,t,r){"use strict";var n=r(4);t.a=function(e){if(!(e instanceof n.a.window.Date))throw new Error("passed argument must be an instance of Date");return"".concat(e.toISOString().split(".")[0],"Z")}}}]);
//# sourceMappingURL=default~admin~projects~projectsAdmin.d850c5604762400768b5.js.map